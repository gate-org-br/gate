<!DOCTYPE html>
<html>
<head>
  <title>Trix Editor with Attach Button</title>
  <link href="https://unpkg.com/trix@1.3.1/dist/trix.css" rel="stylesheet">
  <script src="https://unpkg.com/trix@1.3.1/dist/trix.js"></script>
</head>
<body>
  <trix-editor id="editor"></trix-editor>

  <button id="atatch" title="Attach File">
  asdfasdfasfd
  </button>

  <script type='module'>
    // Get the attach button element.
    const attachButton = document.getElementById('atatch');
    // Add an event listener for the button click event.
    attachButton.addEventListener('click', function() {

alert("adsfasdf");

      const filePicker = new FileReader();

      // Read the selected file as a data URL.
      filePicker.onload = function() {
        // Get the data URL of the selected file.
        const dataURL = filePicker.result;

        // Get the file type of the selected file.
        const fileType = filePicker.type;

        // Insert the data URL into the Trix editor using the appropriate tag.
        switch (fileType) {
          case 'image/png':
          case 'image/jpeg':
            trix.editor.insertFile('image', dataURL);
            break;
          case 'video/mp4':
            trix.editor.insertFile('video', dataURL);
            break;
          default:
            // Trix does not support attaching other file types as data URLs, so we will ignore them.
            break;
        }
      };

      // Open the file picker dialog box.
      filePicker.open();
    });
  </script>
</body>
</html>

